<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Math Q&A Viewer</title>

<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>

<style>
  .katex { margin: 0 0.25rem; }
  .fade { transition: opacity 0.2s ease-in-out; }
</style>
</head>
<body class="bg-rose-50 min-h-screen flex items-center justify-center p-6">

<div class="w-full max-w-5xl bg-white border border-rose-200 rounded-2xl shadow-lg p-8 space-y-6">

  <!-- Question -->
  <div id="question" class="text-center text-rose-700 text-2xl font-semibold"></div>

  <!-- Solution -->
  <div id="solutionArea" class="bg-fuchsia-50 text-fuchsia-800 p-6 rounded-xl min-h-[220px] text-lg leading-relaxed whitespace-pre-wrap fade">
    Click “Next” to start the solution.
  </div>

  <!-- Navigation -->
  <div class="flex justify-between items-center">
    <button id="prevBtn" class="px-4 py-2 bg-rose-400 text-white rounded-md hover:bg-rose-500 disabled:opacity-50" disabled>Previous</button>
    <button id="nextBtn" class="px-4 py-2 bg-fuchsia-500 text-white rounded-md hover:bg-fuchsia-600">Next</button>
  </div>

  <!-- Prompt Box -->
  <div id="promptPanel" class="bg-pink-50 border border-pink-200 rounded-xl p-4 space-y-4">
    <div class="flex justify-between items-center">
      <div class="flex items-center gap-2">
        <label class="text-sm text-gray-700">Text color:</label>
        <select id="colorSelect" class="border border-pink-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-pink-300">
          <option value="text-teal-800">teal</option>
          <option value="text-purple-700">Purple</option>
          <option value="text-red-700">red</option>
        </select>
        <button id="clearNotes" class="px-3 py-1 bg-pink-400 text-white rounded-md hover:bg-pink-500 text-sm">Clear</button>
      </div>
    </div>

    <textarea id="promptInput" rows="6" placeholder="Write your notes here..." class="w-full text-2xl text-center justify-center p-3 border border-pink-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-300 text-gray-800"></textarea>
  </div>

</div>

<script>
 const data = {
  question: "A block of mass $m$ is placed on a rough inclined plane making an angle $\\theta$ with the horizontal. A horizontal force $F$ is applied on the block so that it moves up the incline with constant velocity. Find the magnitude of $F$ and the coefficient of friction $\\mu$ between the block and the incline.",
  steps: [
    "The block moves **up the incline with constant velocity**, so its acceleration is zero. Hence, the net force along the incline is zero.",
    "Let the weight of the block be $mg$. The forces acting on the block are: \\\\ " +
    "- Gravitational force: $mg$ (vertically downward) \\\\ " +
    "- Normal reaction: $N$ (perpendicular to incline) \\\\ " +
    "- Frictional force: $f = \\mu N$ (acting down the incline, opposing motion) \\\\ " +
    "- Applied horizontal force: $F$ (at angle $\\theta$ with the plane).",
    "Resolve the horizontal force $F$ into components: \\\\ " +
    "- Along the incline: $F\\cos\\theta$ (up the plane) \\\\ " +
    "- Perpendicular to the incline: $F\\sin\\theta$ (toward the plane).",
    "Balance forces perpendicular to the incline (no motion perpendicular): \\\\ " +
    "$$N = mg\\cos\\theta + F\\sin\\theta.$$",
    "Now, balance forces **along** the incline. Since the block moves with constant velocity, \\\\ " +
    "$$F\\cos\\theta = mg\\sin\\theta + f.$$",
    "Substitute $f = \\mu N$ into the equation: \\\\ " +
    "$$F\\cos\\theta = mg\\sin\\theta + \\mu (mg\\cos\\theta + F\\sin\\theta).$$",
    "Rearrange terms to isolate $F$: \\\\ " +
    "$$F(\\cos\\theta - \\mu\\sin\\theta) = mg(\\sin\\theta + \\mu\\cos\\theta).$$",
    "Hence, the required horizontal force is: \\\\ " +
    "$$\\boxed{F = \\dfrac{mg(\\sin\\theta + \\mu\\cos\\theta)}{\\cos\\theta - \\mu\\sin\\theta}}.$$",
    "If $F$ is adjusted such that the block moves with **constant velocity down the incline**, the equation becomes: \\\\ " +
    "$$F\\cos\\theta + \\mu(mg\\cos\\theta + F\\sin\\theta) = mg\\sin\\theta.$$",
    "Simplifying gives: \\\\ " +
    "$$F(\\cos\\theta + \\mu\\sin\\theta) = mg(\\sin\\theta - \\mu\\cos\\theta).$$",
    "Hence, for downward constant velocity: \\\\ " +
    "$$\\boxed{F = \\dfrac{mg(\\sin\\theta - \\mu\\cos\\theta)}{\\cos\\theta + \\mu\\sin\\theta}}.$$",
    "If the motion is to remain constant (neither accelerating upward nor downward), friction must adjust to balance net forces, and $F$ must lie between the two values found above.",
    "Thus, the complete result: \\\\ " +
    "$$\\boxed{F = \\dfrac{mg(\\sin\\theta + \\mu\\cos\\theta)}{\\cos\\theta - \\mu\\sin\\theta}} \\text{ for upward motion,}$$ \\\\ " +
    "$$\\boxed{F = \\dfrac{mg(\\sin\\theta - \\mu\\cos\\theta)}{\\cos\\theta + \\mu\\sin\\theta}} \\text{ for downward motion.}$$"
  ]
}





const q = document.getElementById("question")
const s = document.getElementById("solutionArea")
const next = document.getElementById("nextBtn")
const prev = document.getElementById("prevBtn")
const promptInput = document.getElementById("promptInput")
const colorSelect = document.getElementById("colorSelect")
const clearNotes = document.getElementById("clearNotes")

let step = -1

function renderMath(text) {
  const inline = /\$([^\$]+)\$/g
  const block = /\$\$([\s\S]+?)\$\$/g
  return text
    .replace(block, (_, exp) => katex.renderToString(exp, { displayMode: true }))
    .replace(inline, (_, exp) => katex.renderToString(exp, { displayMode: false }))
}

function showQuestion() {
  q.innerHTML = renderMath(data.question)
}

function showStep(index) {
  if (index < 0 || index >= data.steps.length) return
  step = index
  s.classList.add("opacity-0")
  setTimeout(() => {
    s.innerHTML = renderMath(data.steps[step])
    s.classList.remove("opacity-0")
  }, 150)
  prev.disabled = step === 0
  next.disabled = step === data.steps.length - 1
}

next.addEventListener("click", () => {
  if (step < data.steps.length - 1) showStep(step + 1)
})
prev.addEventListener("click", () => {
  if (step > 0) showStep(step - 1)
})

colorSelect.addEventListener("change", () => {
  promptInput.className = `w-full text-2xl text-center justify-center p-3 border border-pink-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-300 ${colorSelect.value}`
})

clearNotes.addEventListener("click", () => {
  promptInput.value = ""
})

document.addEventListener("DOMContentLoaded", () => {
  showQuestion()
})
</script>

</body>
</html>
